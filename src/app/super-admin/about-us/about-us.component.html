<div class="p-3">
    <div class="row first-row mb-2">
        <!-- Breadcrumbs -->
        <div class="col">
            <div class="breadcrumb">
                <span class="home-icon"><i class="bi bi-house-fill"></i></span>
                <a href="/super-admin/about-us" class="breadcrumb-item">About Us</a>
            </div>
        </div>

        <!-- Update Button -->
        <div class="col">
            <div class="justify-content-end d-flex">
                <button pButton type="button" label="Update" class="btn button"
                    (click)="openAboutModalForUpdate()"></button>
            </div>
        </div>

    </div>

    <!-- Table -->
    <div class="card table-card mb-3">
        <app-table [arrList]="arrList" [arrColumns]="arrColumns" [blnForDelete]="blnForDelete"
            [blnHasSingleview]="blnHasSingleview" (objPresentationEvent)="eventFromTable($event)">
        </app-table>
    </div>
</div>

<!-- Add/Edit Modal -->
<p-dialog [(visible)]="OpenModal" [modal]="true" [style]="{width: '50vw'}" [baseZIndex]="9000" [draggable]="false"
    [resizable]="false" [header]="modalHeader">

    <div class="modal-body">
        <form [formGroup]="AboutForm">
            <!-- Title -->
            <div class="mb-3">
                <label class="form-label">Title <span class="required">*</span></label>
                <input type="text" class="form-control" formControlName="title" placeholder="Enter title" />
                <div *ngIf="AboutForm.get('title')?.touched">
                    <p class="error-msg2" *ngIf="AboutForm.get('title')?.errors?.['required']">Title is required!</p>
                </div>
            </div>

            <!-- Description -->
            <div class="mb-3">
                <label class="form-label">Description <span class="required">*</span></label>
                <textarea class="form-control" formControlName="description" placeholder="Enter description"
                    rows="4"></textarea>
                <div *ngIf="AboutForm.get('description')?.touched">
                    <p class="error-msg2" *ngIf="AboutForm.get('description')?.errors?.['required']">Description is
                        required!</p>
                </div>
            </div>

            <!-- Image Left -->
            <div class="mb-3">
                <label class="form-label">Left Image <span class="required">*</span></label>
                <div class="img-card card mt-2">
                    <div *ngIf="!showLeftImage">
                        <button type="button" class="btn uploadbtn" (click)="leftFileInput.click()">Choose File</button>
                        <input type="file" class="d-none" #leftFileInput (change)="onFileUpload($event, 'left')"
                            accept="image/*" />
                    </div>
                    <div *ngIf="showLeftImage" class="img-div position-relative">
                        <img [src]="leftImagePreview" class="img-preview img-fluid w-100" />
                        <i class="bi bi-x-circle-fill position-absolute top-0 end-0 text-danger"
                            style="cursor: pointer;" (click)="clearImage('left')"></i>
                    </div>
                </div>
            </div>

            <!-- Image Right -->
            <div class="mb-3">
                <label class="form-label">Right Image <span class="required">*</span></label>
                <div class="img-card card mt-2">
                    <div *ngIf="!showRightImage">
                        <button type="button" class="btn uploadbtn" (click)="rightFileInput.click()">Choose
                            File</button>
                        <input type="file" class="d-none" #rightFileInput (change)="onFileUpload($event, 'right')"
                            accept="image/*" />
                    </div>
                    <div *ngIf="showRightImage" class="img-div position-relative">
                        <img [src]="rightImagePreview" class="img-preview img-fluid w-100" />
                        <i class="bi bi-x-circle-fill position-absolute top-0 end-0 text-danger"
                            style="cursor: pointer;" (click)="clearImage('right')"></i>
                    </div>
                </div>
            </div>
        </form>
    </div>

    <ng-template pTemplate="footer">
        <button type="submit" pButton (click)="handleAboutOperation()" class="submit-btn">Save</button>
    </ng-template>
</p-dialog>

<!-- Single View Modal -->
<p-dialog [(visible)]="displaySingleViewModal" header="About Us Details" [modal]="true" [style]="{width: '50vw'}"
    [closable]="true" [dismissableMask]="true">
    <div *ngIf="selectedAbout" class="singleview-body p-3">
        <h5>{{ selectedAbout.title }}</h5>
        <p>{{ selectedAbout.description }}</p>
        <div class="row">
            <div class="col text-center">
                <img [src]="selectedAbout.image_left" class="img-fluid rounded"
                    style="width: 250px; height: 250px; object-fit: cover;" />
            </div>
            <div class="col text-center">
                <img [src]="selectedAbout.image_right" class="img-fluid rounded"
                    style="width: 250px; height: 250px; object-fit: cover;" />
            </div>
        </div>


    </div>
</p-dialog>

<!-- Delete Modal -->
<p-dialog [(visible)]="deleteModal" [modal]="true" [style]="{width: '35vw'}" [baseZIndex]="10000" [draggable]="false"
    [resizable]="false">
    <ng-template pTemplate="header">
        <div class="d-flex align-items-center">
            <i class="bi bi-exclamation-triangle"></i>
            <span>Delete About</span>
        </div>
    </ng-template>

    <div>
        <p class="justify-content-center d-flex mt-3 delete-para">Are you sure you want to delete this record?</p>
    </div>

    <ng-template pTemplate="footer">
        <div class="justify-content-center d-flex">
            <button type="button" pButton class="close-btn" (click)="deleteModal = false">Close</button>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button type="button" pButton class="delete-btn" (click)="deleteFn()">Delete</button>
        </div>
    </ng-template>
</p-dialog>

<!-- Loader -->
<div *ngIf="Loader" class="spinner-container">
    <div class="spinner"></div>
</div>