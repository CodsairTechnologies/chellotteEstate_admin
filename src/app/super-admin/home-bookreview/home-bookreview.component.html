<div class="p-3">
    <div class="row  first-row mb-2">
        <!-- breadcrumbs -->
        <div class="col">
            <div class="breadcrumb">
                <span class="home-icon"><i class="bi bi-house-fill"></i></span>
                <!-- <a href="/super-admin/Dashboard" class="breadcrumb-item">Dashboard</a>
                <span class="arrow-icon"><i class="bi bi-caret-right-fill"></i></span> -->
                <a href="/super-admin/homebookreview" class="breadcrumb-item">Home Book Review</a>
            </div>
        </div>
        <!-- breadcrumbs -->

        <!-- button -->
        <div class="col">
            <div class="justify-content-end d-flex">
                <button pButton type="button" label="Update" class="btn button"
                    (click)="openCategoryModal(false)"></button>
            </div>
        </div>
        <!-- button -->
    </div>

    <div class="card table-card mb-3">
        <app-table [arrList]="arrList" [arrColumns]="arrColumns" [blnForDelete]="blnForDelete" [blnNoEdit]="blnNoEdit"
            [blnHasSingleview]="blnHasSingleview" (objPresentationEvent)="eventFromTable($event)">
        </app-table>
    </div>
</div>


<p-dialog [(visible)]="OpenModal" [modal]="true" [style]="{width: '45vw'}" [baseZIndex]="10000" [draggable]="false"
    [resizable]="false" [header]="modalHeader">

    <div class="modal-body">
        <form [formGroup]="BookReviewForm">
            <!-- Image Upload -->
            <div class="mb-3">
                <label class="form-label">Upload Image <span class="required">*</span></label>
                <div class="img-card card">
                    <div *ngIf="!showImageBox">
                        <button type="button" class="btn uploadbtn" (click)="selectfile.click()">Choose Image</button>
                        <input type="file" class="form-control d-none" (change)="onFileUpload($event)" #selectfile
                            accept="image/*">
                    </div>

                    <div *ngIf="showImageBox" class="img-div position-relative w-100">
                        <img *ngIf="fileType.startsWith('image/')" [src]="imagePreview"
                            class="img-preview img-fluid w-100" />
                        <div class="bi bi-x-circle-fill position-absolute top-0 end-0" (click)="clearCard()"></div>
                    </div>
                </div>

                <div class="error-msg2 mt-2"
                    *ngIf="BookReviewForm.get('image')?.invalid && BookReviewForm.get('image')?.touched">
                    <p class="error-msg2">Image is required!</p>
                </div>
            </div>

            <!-- Review Content -->
            <div class="mb-3">
                <div class="form-group">
                    <label for="form-label">Content <span class="required">*</span></label>
                    <textarea class="form-control" formControlName="content" rows="4"
                    placeholder="Write your review here..."></textarea>
                    <!-- <quill-editor formControlName="content" >
                    </quill-editor>

                    <small class="text-danger" *ngIf="contentTooLong">
                        Content exceeds maximum allowed length of {{ maxLength }} characters.
                    </small> -->
                </div>



                
                <div *ngIf="BookReviewForm.get('content')?.invalid && BookReviewForm.get('content')?.touched">
                    <p class="error-msg2">Content is required!</p>
                </div>
            </div>
        </form>
    </div>

    <ng-template pTemplate="footer">
        <button type="submit" pButton (click)="handleBookReview()" class="submit-btn">Save</button>
    </ng-template>
</p-dialog>



<p-dialog [(visible)]="deleteModal" [modal]="true" [style]="{width: '35vw'}" [baseZIndex]="10000" [draggable]="false"
    [resizable]="false">
    <ng-template pTemplate="header">
        <div class="d-flex align-items-center">
            <i class="bi bi-exclamation-triangle"></i>
            <span>Delete Data</span>
        </div>
    </ng-template>

    <div>
        <p class="justify-content-center d-flex mt-3 delete-para">Are you sure you want to delete this Data?</p>
    </div>

    <ng-template pTemplate="footer">
        <div class="justify-content-center d-flex">
            <button type="button" pButton class=" close-btn"
                (click)="deleteModal = false">Close</button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <button type="button" pButton class=" delete-btn" (click)="deleteFn()">Delete</button>
        </div>
    </ng-template>
</p-dialog>

<div *ngIf="Loader" class="spinner-container">
  <div class="spinner"></div>
</div>
